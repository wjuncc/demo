---
layout: post
title:  "react js 101 笔记4-3"
date:   2017-11-12 07:34:44 +0800
categories:  
tags: 
    - react
    - 笔记

---

* 环境：win7 x64
* 软件：按2次Ctrl 搜索 ： sublime js exe


路径： 	cd  E:\n\learn\react\101\Ch04\proj1

文件

本文是拿之前的一个实际项目，改成react的记录。

先姑且这样吧，我也找不到什么有实际意义的项目上手了。      
像react只适合像多UI操作，例如问答星，QQ邮箱，自定义微信h5，百度统计。这样的强交互操作上。  
非常不适合之前的网站项目。因为网站多半是展示类型的，一次渲染成功，顶多是加个加载条。   
不是切换隐藏UI。

	
基本上，只要套用之前的项目的原始的css和div。 

1. 拆分原始的div和css代码成各个模块。
2. 考虑css和js的加载
3. 考虑进度条
4.  

为了简化，改的时候：

* 我就不要找什么替代图片了。 直接上原始设计稿。
* 路径都要写清楚，这样好找。   



import './style.css';

ERROR in ./src/components/Menu/Menu.js
Module not found: Error: Cannot resolve 'file' or 'directory' ./../style.css in E:\n\learn\react\101\Ch04\proj1\src\comp
onents\Menu
 @ ./src/components/Menu/Menu.js 13:0-25











 
### 在本地浏览器看效果 ###

打开 powershell 窗口, 执行命令行： 

	cd  E:\n\learn\react\101\Ch04\proj1
	npm start 

编辑器  webstorm    

## css行内样式 ##

声明：   
	
    let style1 = {
        position: "relative",
        float:"left",
        left: "5%",
        width: "45%"
    }

使用：   

    <img style={style1} src="/img/bg_images_img1.jpg" alt=""/>


## css外部文件 ##

声明：


报错：

	style.css 	Module parse failed:
	You may need an appropriate loader to handle this file type.
修改配置：
css

之后报错：
	
	ERROR in ./src/components/Menu/Menu.js
	Module not found: Error: Cannot resolve module 'style-loader' in E:\n\learn\react\101\Ch04\proj1\src\components\Menu
 @ ./src/components/Menu/Menu.js 13:0-22
Child html-webpack-plugin for "index.html":


	ERROR in ./src/components/Menu/Menu.js
	Module not found: Error: Cannot resolve module 'style' in E:\n\learn\react\101\Ch04\proj1\src\components\Menu
 	@ ./src/components/Menu/Menu.js 13:0-22
	Child html-webpack-plugin for "index.html":

安装css加载器：
	
	npm install style-loader --save

[Error: Cannot resolve module 'style-loader'](https://stackoverflow.com/questions/35171288/error-cannot-resolve-module-style-loader)

	npm install css-loader --save

继续报错：

	ERROR in ./src/components/Menu/Menu.js
	Module not found: Error: Cannot resolve module 'css-loader' in E:\n\learn\react\101\Ch04\proj1\src\components\Menu
	 @ ./src/components/Menu/Menu.js 13:0-22
Child html-webpack-plugin for "index.html":


使用：   
### 循环的写法 ###


	
    render() {
        var arr = this.props.title.split(",");
        return(
            <div className="menu">
                <ul>
                    {arr.map((item,id) =>
                        <li key={id}>
                            {item}
                        </li>
                    )}
                </ul>
            </div>
        )


### onClick  react  es6 ###
	
	constructor(props) {
	    super(props);
	    this._handleClick = this._handleClick.bind(this)
	}
	_handleClick(e) {
	    console.log(this);
	}
	render() {
	    return (
	        <div>
	            <h1 onClick={this._handleClick}>点击</h1>
	        </div>
	    );
	}


### React访问组件子节点 ###

	this.props.children

React在ES6的实现中去掉了getInitialState这个hook函数,规定state在construc.

	class exampleComponent extends React.Component {
	    constructor(props) {
	        super(props);
	        this.state = {example: 'example'}
	    }
	
	}




* [React访问组件子节点](http://blog.csdn.net/you23hai45/article/details/52706148)

### react组件之间传值 ###

#### Class GlobalBroadcaster es6 react ####

如果直接写，会报错：


	globalBroadcaster is not defined  react

	/static/termite_js/app/common/GlobalBroadcaster.js"

Class GlobalBroadcaster es6 react

需要安装：

	npm install signals	

	npm install signals --save-dev

写法：

	globalBroadcaster.subscribe('myCustomEventTypeString', handler);
	globalBroadcaster.publish('myCustomEventTypeString', param1, param2, ...);
	globalBroadcaster.unsubscribe('myCustomEventTypeString', handler);

这个写法和SiteEvt完全一样。

报错：

	Uncaught TypeError: _signals2.default.subscribe is not a function

* [没有任何嵌套关系的组件之间传值](http://blog.csdn.net/limm33/article/details/50942863)
* [How to communicate between ReactJS components](https://www.ctheu.com/2015/02/12/how-to-communicate-between-react-components/)
* [Comparison between different Observer Pattern implementations](https://github.com/millermedeiros/js-signals/wiki/Comparison-between-different-Observer-Pattern-implementations)
* [](http://www.imooc.com/topic/reactnative?mc_marking=d3afbaad984272d451079d2a8d447738&mc_channel=bdqdkj)

#### react-signals ####
第2个通信组件是：

	npm install react-signals --save	
	npm install react-signals --save-dev


[react-signals](https://www.npmjs.com/package/react-signals)


### 位置 ###

C:\Program Files\JetBrains\WebStorm 2017.1.4\plugins\JavaScriptLanguage\lib\JavaScriptLanguage.jar!\com\intellij\lang\javascript\index\predefined

* [如何编辑idea中的声明JS](http://cache.baiducontent.com/c?m=9f65cb4a8c8507ed19fa950d100b96204a05d93e788090412189d65f93130a1c187ba0fc7063565f8e993d7a00aa4f59e1f736702a587cf1cc96d61185ac925e74de7067671cf004458358e996067ad620e602a8f944b6adf044c0f2818d9415088b44050cdbb1ca1d5703ca19b74871b4e7c416510846aded4621ac192c7acf7d17a202a4a0646145dfb1880710823dd1110690de22b14e4ae657f75e4a641fe20aa609217863bc1a60ac116a13939b4ae05b6e4153e813e3aec0c6fc4ffdcbeb41c0a98ffc6ec420bd87acee70322e01a670f9f8e8e52a653515d9bdc917b46aefbafbba3dfe13a6075dca0c2b707ccf1b8385fe40f31201a8a13fa077797e3f0bafa4738e62711f6ffb624da61eb062b6ff614aacb2cecc&p=8764840585cc43f22abd9b7d0c10cb&newp=882a9644d09412a05ab5d53c495d85231610db2151d6d5156b82c825d7331b001c3bbfb423241b0fd4c2786d01a44a59eef2347433012ba3dda5c91d9fb4c57479df&user=baidu&fm=sc&query=plugins%5CJavaScriptLanguage%5Clib%5CJavaScriptLanguage%2Ejar%21%5Ccom%5Cintellij%5Clang%5Cjavascript%5Cindex%5Cpredefined&qid=ede4f5070002234b&p1=1)

### 备忘录： ###
#### react故事1 ####

圣诞将近，在高速公路上，一个人趴在地上。司机没有撞上去，但是这个人已经昏迷不醒了。司机停下车拨打了警察和急救电话。病人被送到医院，医院说必须要签字才能做急救，但是病人周身上下没有身份证，办不了案子。警察，医生，和司机一脸蒙蔽，病人也死了。这个故事讲的是：必须要有key作为ID号。


#### react故事2 ####
圣诞将近，在开往圣安的高速公路上，一个人趴在地上。司机没有撞上去，但是这个人已经昏迷不醒了。司机停下车拨打了警察和急救电话。病人被送到医院，医院说必须要有家属签字才能做急救，但是病人周身上下，找到了多张身份证，医生告诉警察，必须在6小时内找到它的家属，并且签字才能做手术，不然病人可能有危险。警察的老婆在等他回家，而司机一想到老板的苛刻而愤愤不平，在医院的监护室里2个人一起捞起来家常理短。。这个故事讲的是：不能使用多个key作为ID号，使用多个key作为ID，最后的结果就是没有人给你办事。

#### react故事3 ####

今天邮局打电话来，要小阿阿去拿一封信。
小阿阿的父亲办丧事刚办完没多久。
信上的收件人，正是棠溪村的小阿阿父亲大哈哈。

小阿阿到了邮局，被带到了房间。大吃一惊。2个警察说明来意，不久前在市会议上没有启动炸弹，不过没有引爆，但事后线索消失了，这封信可能有线索。 

小阿阿父亲是一个老的系统干部，它跟不上发展，用过去技术来做事。  
   
网的儿子打开了新，打开是一张白纸。这个故事讲的是：在编程的时候，bug在等待这你，一个路由是引发bug。如果要使用路由，那么一定要保证正确，否则不会解析，就算是解析了，也会解析错误。浪费你的时间。

  
#### 参考 ####

* [React 使用ES6+语法时 事件绑定疑惑](https://segmentfault.com/q/1010000003763076)

* [预言党](psychics.co.uk)  
* 入侵脑细胞》
* [死亡幻觉](http://www.iqiyi.com/v_19rr86r024.html)
* [睁开你的双眼](http://www.iqiyi.com/w_19rvfxbwll.html)
* [穆赫兰道](http://www.iqiyi.com/w_19ruglwi6l.html)
* [瓦莱莉和她的奇迹一周](http://www.iqiyi.com/w_19ruglwi6l.html)
* 砂制时镜下的疗养院
* [回忆中的玛妮]()
* [禁闭岛](http://www.iqiyi.com/w_19rugmjsih.html)

