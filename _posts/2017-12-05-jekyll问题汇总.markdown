---
layout: post
title:  "jekyll问题汇总"
date:   2017-10-05 21:17:32 +0800
categories:  
tags: 
---

# jekyll中文路径 #

# jekyll中文路径 #
这个问题是jekyll2的，在jekyll3下没有了。  
了解了一下：

1. git上的jekyll支持中文。
2. 本地因为ruby编译版本的原因， jekyll不支持中文。 或者支持中文，都有可能。
3. 可以通过修改rb文件，来使得中文保留。
4. 如果不保留中文，可以翻译成汉语拼音。
5. 能够用中文，还是用中文好。垂直映射比水平转化要少一层壳，更利于搜索。

测试了一下：

1. 本地支持中文文件名。但不支持127.0.0.1访问中文文件名。
2. git是否支持呢？测试了一下，git支持中文文件名。

下面备份解决办法：

## 解决办法 ##

> 修改安装目录\Ruby22-x64\lib\ruby\2.2.0\webrick\httpservlet下的filehandler.rb文件，建议先备份。

> 找到下列两处，添加一句（ + 的一行为添加部分）

> 
	path = req.path_info.dup.force_encoding(Encoding.find("filesystem"))
	+ path.force_encoding("UTF-8") # 加入编码
	if trailing_pathsep?(req.path_info)
	break if base == "/"
	+ base.force_encoding("UTF-8") # 加入編碼
	break unless File.directory?(File.expand_path(res.filename + base))
然后重启服务器即可jekyll clean && jekyll s



#### 参考 ####

* [jekyll serve 无法本地预览 中文路径问题 解决](https://rawbin-.github.io/开发技术/2015/06/13/jekyll-serve/)
* [Jekyll编译中文文件名的网页的本地预览问题。](http://www.oschina.net/question/1396651_132154)
* [jekyll中文文件名本地预览问题](http://kael-aiur.com/入门指引/jekyll中文文件名本地预览问题.html)
* [jekyll如何使用中文路径 - 付威的网络博客](http://blog.laofu.online/2017/08/06/jekyll-cn-path/)
* [jekyll支持中文解决办法 - 单客哦朋 - thxopen.com](http://www.thxopen.com/jekyll/2014/04/17/jekyll-able-gbk.html)